{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n    email: \"\",\n    message: \"\"\n};\nconst LC_KEY = \"feedback-form-state\";\n\nconst formFeed = document.querySelector(\".feedback-form\");\nconst inputMail = formFeed.elements.email;\nconst messageText = formFeed.elements.message;\n\nformFeed.addEventListener(\"input\", handleInput);\nformFeed.addEventListener(\"submit\", handleFeedback);\nconst values = JSON.parse(localStorage.getItem(LC_KEY)) ?? { email: \"\", message: \"\" };\nsavedFields(values);\n\nfunction handleInput(e) {    \n    if (values.email) {\n        formData.email = values.email;\n    }\n    if (values.message) {\n        formData.message = values.message;\n    } \n    e.target.name === \"email\" ? formData.email = e.target.value : formData.message = e.target.value;\n    localStorage.setItem(LC_KEY, JSON.stringify(formData))\n};\n\nfunction handleFeedback(e) {\n    e.preventDefault();\n    if (inputMail.value && messageText.value) {\n        console.log(JSON.parse(localStorage.getItem(LC_KEY)));\n    } else {\n        return alert('Fill please all fields');\n    }\n    localStorage.removeItem(LC_KEY);\n    formData.email = \"\";\n    formData.message = \"\";\n    e.target.reset();\n}\n\nfunction savedFields({email, message}) {\n    if (email) {\n        inputMail.value = email;\n    };\n    if (message) {\n        messageText.value = message;\n    }\n}"],"names":["formData","LC_KEY","formFeed","inputMail","messageText","handleInput","handleFeedback","values","savedFields","email","message"],"mappings":"wFAAA,MAAMA,EAAW,CACb,MAAO,GACP,QAAS,EACb,EACMC,EAAS,sBAETC,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAYD,EAAS,SAAS,MAC9BE,EAAcF,EAAS,SAAS,QAEtCA,EAAS,iBAAiB,QAASG,CAAW,EAC9CH,EAAS,iBAAiB,SAAUI,CAAc,EAClD,MAAMC,EAAS,KAAK,MAAM,aAAa,QAAQN,CAAM,CAAC,GAAK,CAAE,MAAO,GAAI,QAAS,EAAE,EACnFO,EAAYD,CAAM,EAElB,SAASF,EAAY,EAAG,CAChBE,EAAO,QACPP,EAAS,MAAQO,EAAO,OAExBA,EAAO,UACPP,EAAS,QAAUO,EAAO,SAE9B,EAAE,OAAO,OAAS,QAAUP,EAAS,MAAQ,EAAE,OAAO,MAAQA,EAAS,QAAU,EAAE,OAAO,MAC1F,aAAa,QAAQC,EAAQ,KAAK,UAAUD,CAAQ,CAAC,CACzD,CAEA,SAASM,EAAe,EAAG,CAEvB,GADA,EAAE,eAAc,EACZH,EAAU,OAASC,EAAY,MAC/B,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQH,CAAM,CAAC,CAAC,MAEpD,QAAO,MAAM,wBAAwB,EAEzC,aAAa,WAAWA,CAAM,EAC9BD,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnB,EAAE,OAAO,OACb,CAEA,SAASQ,EAAY,CAAC,MAAAC,EAAO,QAAAC,CAAO,EAAG,CAC/BD,IACAN,EAAU,MAAQM,GAElBC,IACAN,EAAY,MAAQM,EAE5B"}